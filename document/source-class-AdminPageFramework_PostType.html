<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="generator" content="ApiGen 2.8.0">
	<meta name="robots" content="noindex">

	<title>File factory/AdminPageFramework_PostType/AdminPageFramework_PostType.php | Admin Page Framework Documentation</title>

	<script type="text/javascript" src="resources/combined.js?1723033208"></script>
	<script type="text/javascript" src="elementlist.js?3958693048"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/bootstrap.min.css?2514636104">
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?2754522461">

</head>

<body>
	<div id="navigation" class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a href="index.html" class="brand">Admin Page Framework Documentation</a>
				<div class="nav-collapse">
					<ul class="nav">
						<li>
							<a href="package-AdminPageFramework.PostType.html" title="Summary of AdminPageFramework\PostType"><span>Package</span></a>
						</li>
						<li>
							<a href="class-AdminPageFramework_PostType.html" title="Summary of AdminPageFramework_PostType"><span>Class</span></a>
						</li>

						<li class="divider-vertical"></li>

						<li>
							<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
						</li>


					</ul>
				</div>
			</div>
		</div>
	</div>

	<div id="left">
	<div id="menu">
		<form id="search" class="form-search">
			<input type="hidden" name="cx" value="">
			<input type="hidden" name="ie" value="UTF-8">
			<input type="text" name="q" class="search-query" placeholder="Search">
		</form>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active main"><a href="package-AdminPageFramework.html">AdminPageFramework<span></span></a>
						<ul>
				<li class="main"><a href="package-AdminPageFramework.FieldType.html">FieldType</a>
						</li>
				<li class="main"><a href="package-AdminPageFramework.MetaBox.html">MetaBox</a>
						</li>
				<li class="main"><a href="package-AdminPageFramework.NetworkAdmin.html">NetworkAdmin<span></span></a>
						<ul>
				<li class="main"><a href="package-AdminPageFramework.NetworkAdmin.Page.html">Page</a>
						</li>
							</ul></li>
				<li class="main"><a href="package-AdminPageFramework.Page.html">Page</a>
						</li>
				<li class="main"><a href="package-AdminPageFramework.PageMetaBox.html">PageMetaBox</a>
						</li>
				<li class="active main"><a href="package-AdminPageFramework.PostType.html">PostType</a>
						</li>
				<li class="main"><a href="package-AdminPageFramework.TaxonomyField.html">TaxonomyField</a>
						</li>
				<li class="main"><a href="package-AdminPageFramework.Widget.html">Widget</a>
						</li>
							</ul></li>
				<li><a href="package-None.html">None</a>
						</li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-AdminPageFramework_PostType.html">AdminPageFramework_PostType</a></li>
				<li><a href="class-AdminPageFramework_PostType_Controller.html">AdminPageFramework_PostType_Controller</a></li>
				<li><a href="class-AdminPageFramework_PostType_Model.html">AdminPageFramework_PostType_Model</a></li>
				<li><a href="class-AdminPageFramework_PostType_Router.html">AdminPageFramework_PostType_Router</a></li>
				<li><a href="class-AdminPageFramework_PostType_View.html">AdminPageFramework_PostType_View</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<pre id="source"><code><span id="1" class="l"><a class="l" href="#1">  1 </a><span class="xlang">&lt;?php</span>
</span><span id="2" class="l"><a class="l" href="#2">  2 </a><span class="php-comment">/**
</span></span><span id="3" class="l"><a class="l" href="#3">  3 </a><span class="php-comment"> * Admin Page Framework
</span></span><span id="4" class="l"><a class="l" href="#4">  4 </a><span class="php-comment"> * 
</span></span><span id="5" class="l"><a class="l" href="#5">  5 </a><span class="php-comment"> * http://en.michaeluno.jp/admin-page-framework/
</span></span><span id="6" class="l"><a class="l" href="#6">  6 </a><span class="php-comment"> * Copyright (c) 2013-2014 Michael Uno; Licensed MIT
</span></span><span id="7" class="l"><a class="l" href="#7">  7 </a><span class="php-comment"> * 
</span></span><span id="8" class="l"><a class="l" href="#8">  8 </a><span class="php-comment"> */</span>
</span><span id="9" class="l"><a class="l" href="#9">  9 </a><span class="php-keyword1">if</span> ( ! <span class="php-keyword2">class_exists</span>( <span class="php-quote">'AdminPageFramework_PostType'</span> ) ) :
</span><span id="10" class="l"><a class="l" href="#10"> 10 </a><span class="php-comment">/**
</span></span><span id="11" class="l"><a class="l" href="#11"> 11 </a><span class="php-comment"> * Provides methods for registering custom post types.
</span></span><span id="12" class="l"><a class="l" href="#12"> 12 </a><span class="php-comment"> * 
</span></span><span id="13" class="l"><a class="l" href="#13"> 13 </a><span class="php-comment"> * &lt;h2&gt;Hooks&lt;/h2&gt;
</span></span><span id="14" class="l"><a class="l" href="#14"> 14 </a><span class="php-comment"> * &lt;p&gt;The class automatically creates WordPress action and filter hooks associated with the class methods.
</span></span><span id="15" class="l"><a class="l" href="#15"> 15 </a><span class="php-comment"> * The class methods corresponding to the name of the below actions and filters can be extended to modify the page output. Those methods are the callbacks of the filters and actions.&lt;/p&gt;
</span></span><span id="16" class="l"><a class="l" href="#16"> 16 </a><span class="php-comment"> * &lt;h3&gt;Methods and Action Hooks&lt;/h3&gt;
</span></span><span id="17" class="l"><a class="l" href="#17"> 17 </a><span class="php-comment"> * &lt;ul&gt;
</span></span><span id="18" class="l"><a class="l" href="#18"> 18 </a><span class="php-comment"> *     &lt;li&gt;&lt;strong&gt;start_{instantiated class name}&lt;/strong&gt; – triggered at the end of the class constructor. This receives the class object in the first parameter.&lt;/li&gt;
</span></span><span id="19" class="l"><a class="l" href="#19"> 19 </a><span class="php-comment"> *     &lt;li&gt;&lt;strong&gt;set_up_{instantiated class name}&lt;/strong&gt; – triggered after the setUp() method is called. This receives the class object in the first parameter.&lt;/li&gt;
</span></span><span id="20" class="l"><a class="l" href="#20"> 20 </a><span class="php-comment"> * &lt;/ul&gt;
</span></span><span id="21" class="l"><a class="l" href="#21"> 21 </a><span class="php-comment"> * &lt;h3&gt;Methods and Filter Hooks&lt;/h3&gt;
</span></span><span id="22" class="l"><a class="l" href="#22"> 22 </a><span class="php-comment"> * &lt;ul&gt;
</span></span><span id="23" class="l"><a class="l" href="#23"> 23 </a><span class="php-comment"> *     &lt;li&gt;&lt;strong&gt;cell_{post type slug}_{column key}&lt;/strong&gt; – receives the output string for the listing table of the custom post type's post. The first parameter: output string. The second parameter: the post ID.&lt;/li&gt;
</span></span><span id="24" class="l"><a class="l" href="#24"> 24 </a><span class="php-comment"> *     &lt;li&gt;&lt;strong&gt;columns_{post type slug}&lt;/strong&gt; – receives the array containing the header columns for the listing table of the custom post type's post. The first parameter: the header columns container array.&lt;/li&gt;
</span></span><span id="25" class="l"><a class="l" href="#25"> 25 </a><span class="php-comment"> *     &lt;li&gt;&lt;strong&gt;sortable_columns_{post type slug}&lt;/strong&gt; – receives the array containing the sortable header column array for the listing table of the custom post type's post. The first parameter: the sortable header columns container array.&lt;/li&gt;
</span></span><span id="26" class="l"><a class="l" href="#26"> 26 </a><span class="php-comment"> * &lt;/ul&gt;
</span></span><span id="27" class="l"><a class="l" href="#27"> 27 </a><span class="php-comment"> * &lt;h3&gt;Remarks&lt;/h3&gt;
</span></span><span id="28" class="l"><a class="l" href="#28"> 28 </a><span class="php-comment"> * &lt;p&gt;The slugs must not contain a dot(.) or a hyphen(-) since it is used in the callback method name.&lt;/p&gt; 
</span></span><span id="29" class="l"><a class="l" href="#29"> 29 </a><span class="php-comment"> * 
</span></span><span id="30" class="l"><a class="l" href="#30"> 30 </a><span class="php-comment"> * @abstract
</span></span><span id="31" class="l"><a class="l" href="#31"> 31 </a><span class="php-comment"> * @since 2.0.0
</span></span><span id="32" class="l"><a class="l" href="#32"> 32 </a><span class="php-comment"> * @package AdminPageFramework
</span></span><span id="33" class="l"><a class="l" href="#33"> 33 </a><span class="php-comment"> * @subpackage PostType
</span></span><span id="34" class="l"><a class="l" href="#34"> 34 </a><span class="php-comment"> */</span>
</span><span id="35" class="l"><a class="l" href="#35"> 35 </a><span class="php-keyword1">abstract</span> <span class="php-keyword1">class</span> <a id="AdminPageFramework_PostType" href="#AdminPageFramework_PostType">AdminPageFramework_PostType</a> <span class="php-keyword1">extends</span> AdminPageFramework_PostType_Controller {    
</span><span id="36" class="l"><a class="l" href="#36"> 36 </a>        
</span><span id="37" class="l"><a class="l" href="#37"> 37 </a>    <span class="php-comment">/**
</span></span><span id="38" class="l"><a class="l" href="#38"> 38 </a><span class="php-comment">    * The constructor of the class object.
</span></span><span id="39" class="l"><a class="l" href="#39"> 39 </a><span class="php-comment">    * 
</span></span><span id="40" class="l"><a class="l" href="#40"> 40 </a><span class="php-comment">    * Registers necessary hooks and sets up internal properties.
</span></span><span id="41" class="l"><a class="l" href="#41"> 41 </a><span class="php-comment">    * 
</span></span><span id="42" class="l"><a class="l" href="#42"> 42 </a><span class="php-comment">    * &lt;h4&gt;Example&lt;/h4&gt;
</span></span><span id="43" class="l"><a class="l" href="#43"> 43 </a><span class="php-comment">    * &lt;code&gt;new APF_PostType( 
</span></span><span id="44" class="l"><a class="l" href="#44"> 44 </a><span class="php-comment">    *     'apf_posts',     // post type slug
</span></span><span id="45" class="l"><a class="l" href="#45"> 45 </a><span class="php-comment">    *     array( // argument - for the array structure, refer to http://codex.wordpress.org/Function_Reference/register_post_type#Arguments
</span></span><span id="46" class="l"><a class="l" href="#46"> 46 </a><span class="php-comment">    *         'labels' =&gt; array(
</span></span><span id="47" class="l"><a class="l" href="#47"> 47 </a><span class="php-comment">    *             'name' =&gt; 'Admin Page Framework',
</span></span><span id="48" class="l"><a class="l" href="#48"> 48 </a><span class="php-comment">    *             'singular_name' =&gt; 'Admin Page Framework',
</span></span><span id="49" class="l"><a class="l" href="#49"> 49 </a><span class="php-comment">    *             'add_new' =&gt; 'Add New',
</span></span><span id="50" class="l"><a class="l" href="#50"> 50 </a><span class="php-comment">    *             'add_new_item' =&gt; 'Add New APF Post',
</span></span><span id="51" class="l"><a class="l" href="#51"> 51 </a><span class="php-comment">    *             'edit' =&gt; 'Edit',
</span></span><span id="52" class="l"><a class="l" href="#52"> 52 </a><span class="php-comment">    *             'edit_item' =&gt; 'Edit APF Post',
</span></span><span id="53" class="l"><a class="l" href="#53"> 53 </a><span class="php-comment">    *             'new_item' =&gt; 'New APF Post',
</span></span><span id="54" class="l"><a class="l" href="#54"> 54 </a><span class="php-comment">    *             'view' =&gt; 'View',
</span></span><span id="55" class="l"><a class="l" href="#55"> 55 </a><span class="php-comment">    *             'view_item' =&gt; 'View APF Post',
</span></span><span id="56" class="l"><a class="l" href="#56"> 56 </a><span class="php-comment">    *             'search_items' =&gt; 'Search APF Post',
</span></span><span id="57" class="l"><a class="l" href="#57"> 57 </a><span class="php-comment">    *             'not_found' =&gt; 'No APF Post found',
</span></span><span id="58" class="l"><a class="l" href="#58"> 58 </a><span class="php-comment">    *             'not_found_in_trash' =&gt; 'No APF Post found in Trash',
</span></span><span id="59" class="l"><a class="l" href="#59"> 59 </a><span class="php-comment">    *             'parent' =&gt; 'Parent APF Post'
</span></span><span id="60" class="l"><a class="l" href="#60"> 60 </a><span class="php-comment">    *         ),
</span></span><span id="61" class="l"><a class="l" href="#61"> 61 </a><span class="php-comment">    *         'public' =&gt; true,
</span></span><span id="62" class="l"><a class="l" href="#62"> 62 </a><span class="php-comment">    *         'menu_position' =&gt; 110,
</span></span><span id="63" class="l"><a class="l" href="#63"> 63 </a><span class="php-comment">    *         'supports' =&gt; array( 'title' ),
</span></span><span id="64" class="l"><a class="l" href="#64"> 64 </a><span class="php-comment">    *         'taxonomies' =&gt; array( '' ),
</span></span><span id="65" class="l"><a class="l" href="#65"> 65 </a><span class="php-comment">    *         'menu_icon' =&gt; null,
</span></span><span id="66" class="l"><a class="l" href="#66"> 66 </a><span class="php-comment">    *         'has_archive' =&gt; true,
</span></span><span id="67" class="l"><a class="l" href="#67"> 67 </a><span class="php-comment">    *         'show_admin_column' =&gt; true, // for custom taxonomies
</span></span><span id="68" class="l"><a class="l" href="#68"> 68 </a><span class="php-comment">    *     )     
</span></span><span id="69" class="l"><a class="l" href="#69"> 69 </a><span class="php-comment">    * );&lt;/code&gt;
</span></span><span id="70" class="l"><a class="l" href="#70"> 70 </a><span class="php-comment">    * @since 2.0.0
</span></span><span id="71" class="l"><a class="l" href="#71"> 71 </a><span class="php-comment">    * @since 2.1.6 Added the $sTextDomain parameter.
</span></span><span id="72" class="l"><a class="l" href="#72"> 72 </a><span class="php-comment">    * @see http://codex.wordpress.org/Function_Reference/register_post_type#Arguments
</span></span><span id="73" class="l"><a class="l" href="#73"> 73 </a><span class="php-comment">    * @param string The post type slug.
</span></span><span id="74" class="l"><a class="l" href="#74"> 74 </a><span class="php-comment">    * @param array The &lt;a href=&quot;http://codex.wordpress.org/Function_Reference/register_post_type#Arguments&quot;&gt;argument array&lt;/a&gt; passed to register_post_type().
</span></span><span id="75" class="l"><a class="l" href="#75"> 75 </a><span class="php-comment">    * @param string The path of the caller script. This is used to retrieve the script information to insert it into the footer. If not set, the framework tries to detect it.
</span></span><span id="76" class="l"><a class="l" href="#76"> 76 </a><span class="php-comment">    * @param string The text domain of the caller script.
</span></span><span id="77" class="l"><a class="l" href="#77"> 77 </a><span class="php-comment">    * @return void
</span></span><span id="78" class="l"><a class="l" href="#78"> 78 </a><span class="php-comment">    */</span>
</span><span id="79" class="l"><a class="l" href="#79"> 79 </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>( <span class="php-var">$sPostType</span>, <span class="php-var">$aArgs</span>=<span class="php-keyword1">array</span>(), <span class="php-var">$sCallerPath</span>=<span class="php-keyword1">null</span>, <span class="php-var">$sTextDomain</span>=<span class="php-quote">'admin-page-framework'</span> ) {
</span><span id="80" class="l"><a class="l" href="#80"> 80 </a>        
</span><span id="81" class="l"><a class="l" href="#81"> 81 </a>        <span class="php-keyword1">if</span> ( <span class="php-keyword1">empty</span>( <span class="php-var">$sPostType</span> ) ) <span class="php-keyword1">return</span>;
</span><span id="82" class="l"><a class="l" href="#82"> 82 </a>
</span><span id="83" class="l"><a class="l" href="#83"> 83 </a>        <span class="php-comment">// Properties</span>
</span><span id="84" class="l"><a class="l" href="#84"> 84 </a>        <span class="php-var">$this</span>-&gt;oProp = <span class="php-keyword1">new</span> AdminPageFramework_Property_PostType( 
</span><span id="85" class="l"><a class="l" href="#85"> 85 </a>            <span class="php-var">$this</span>, 
</span><span id="86" class="l"><a class="l" href="#86"> 86 </a>            <span class="php-var">$sCallerPath</span> ? <span class="php-keyword2">trim</span>( <span class="php-var">$sCallerPath</span> ) : ( 
</span><span id="87" class="l"><a class="l" href="#87"> 87 </a>                ( is_admin() &amp;&amp; <span class="php-keyword1">isset</span>( <span class="php-var">$GLOBALS</span>[<span class="php-quote">'pagenow'</span>] ) &amp;&amp; <span class="php-keyword2">in_array</span>( <span class="php-var">$GLOBALS</span>[<span class="php-quote">'pagenow'</span>], <span class="php-keyword1">array</span>( <span class="php-quote">'edit.php'</span>, <span class="php-quote">'post.php'</span>, <span class="php-quote">'post-new.php'</span>, <span class="php-quote">'plugins.php'</span>, <span class="php-quote">'tags.php'</span>, <span class="php-quote">'edit-tags.php'</span>, ) ) )
</span><span id="88" class="l"><a class="l" href="#88"> 88 </a>                    ? AdminPageFramework_Utility::getCallerScriptPath( __FILE__ ) 
</span><span id="89" class="l"><a class="l" href="#89"> 89 </a>                    : <span class="php-keyword1">null</span> 
</span><span id="90" class="l"><a class="l" href="#90"> 90 </a>                ),     <span class="php-comment">// this is important to attempt to find the caller script path here when separating the library into multiple files.    </span>
</span><span id="91" class="l"><a class="l" href="#91"> 91 </a>            <span class="php-keyword2">get_class</span>( <span class="php-var">$this</span> ), <span class="php-comment">// class name</span>
</span><span id="92" class="l"><a class="l" href="#92"> 92 </a>            <span class="php-quote">'publish_posts'</span>,    <span class="php-comment">// capability</span>
</span><span id="93" class="l"><a class="l" href="#93"> 93 </a>            <span class="php-var">$sTextDomain</span>,       <span class="php-comment">// text domain</span>
</span><span id="94" class="l"><a class="l" href="#94"> 94 </a>            <span class="php-quote">'post_type'</span>         <span class="php-comment">// fields type</span>
</span><span id="95" class="l"><a class="l" href="#95"> 95 </a>        );
</span><span id="96" class="l"><a class="l" href="#96"> 96 </a>        <span class="php-var">$this</span>-&gt;oProp-&gt;sPostType = AdminPageFramework_WPUtility::sanitizeSlug( <span class="php-var">$sPostType</span> );
</span><span id="97" class="l"><a class="l" href="#97"> 97 </a>        <span class="php-var">$this</span>-&gt;oProp-&gt;aPostTypeArgs = <span class="php-var">$aArgs</span>; <span class="php-comment">// for the argument array structure, refer to http://codex.wordpress.org/Function_Reference/register_post_type#Arguments</span>
</span><span id="98" class="l"><a class="l" href="#98"> 98 </a>
</span><span id="99" class="l"><a class="l" href="#99"> 99 </a>        parent::__construct( <span class="php-var">$this</span>-&gt;oProp );
</span><span id="100" class="l"><a class="l" href="#100">100 </a>                
</span><span id="101" class="l"><a class="l" href="#101">101 </a>        <span class="php-var">$this</span>-&gt;oUtil-&gt;addAndDoAction( <span class="php-var">$this</span>, <span class="php-quote">&quot;start_</span><span class="php-var">{$this-&gt;oProp-&gt;sClassName}</span><span class="php-quote">&quot;</span>, <span class="php-var">$this</span> );
</span><span id="102" class="l"><a class="l" href="#102">102 </a>                           
</span><span id="103" class="l"><a class="l" href="#103">103 </a>    }
</span><span id="104" class="l"><a class="l" href="#104">104 </a>                
</span><span id="105" class="l"><a class="l" href="#105">105 </a>}
</span><span id="106" class="l"><a class="l" href="#106">106 </a></span><span class="php-keyword1">endif</span>;</code></pre>
	</div>

	<div id="footer">
		Admin Page Framework Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</body>
</html>
